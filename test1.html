<!DOCTYPE html>
<html>
    <head>
        <title> </title>
        <script type="text/javascript" charset="utf-8" src="inherit.js"></script>
        <script type="text/javascript" charset="utf-8" src="input.js"></script>
        <script type="text/javascript" charset="utf-8" src="anim.js"></script>
        <script type="text/javascript" charset="utf-8" src="game.js"></script>
        <script type="text/javascript" charset="utf-8" src="item.js"></script>
        <script type="text/javascript" charset="utf-8" src="scene.js"></script>
        <script type="text/javascript" charset="utf-8" src="resloader.js"></script>

        <script type="text/javascript" charset="utf-8">

        </script>
    </head>
    <body>
        <canvas id="canvas" width="800" height="600" style="border:1px solid:black"></canvas>
        <script type="text/javascript" charset="utf-8">

            var g=new Game(Canvas.fromId("canvas"));

            var rect1=new Item();
            rect1.xSpeed=1;
            rect1.onUpdate=function(delta){
                this.d=delta;
                if (this.x+10>=this.game.canvasWidth)
                    this.xSpeed=-1;
                if (this.x<=0){
                    this.xSpeed=1;
                }
                this.x+=this.xSpeed*(delta);

                if (Input.mouse.clicked)
                    console.log("Clicked on canvas!");
                if (Input.mouse.contextMenu)
                    console.log("Contextmenu invoked");
            };
            rect1.onDraw=function(ctx){
                if (Input.mouse.moving)
                    ctx.fillStyle="red";
                else
                    ctx.fillStyle="blue";
                ctx.strokeStyle="black";
                ctx.drawRect(this.x,10,10,10);
            };

            var cursor=new Item();
            cursor.onUpdate=function(delta){
                this.move(Input.mouse.x-5,Input.mouse.y-5);
            }
            cursor.onDraw=function(ctx){
                ctx.drawRect(this.x,this.y,10,10);
            }

            var text=new Item();
            text.onDraw=function(ctx){
                /*
                font-style:  normal | italic | oblique | inherit
                font-variant:  normal | small-caps
                font-weight: normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900
                font-size: xx-small | x-small | small | medium | large | x-large | xx-large | smaller | larger | <length> | <percentage>
                line-height: normal | <number> | <length> | <percentage>
                font-family:name

                */
                ctx.font="italic bolder xx-large Calibri";
                ctx.fillStyle = "Red";
                ctx.fillText("Mouse left down: % right down: %".arg(Input.mouse.leftDown,Input.mouse.rightDown),10,100)
                ctx.fillText(parseInt(this.game.fps),10,120);
                ctx.fillText("Ubuntu",10,40);
            }

            Input.setCursor("none");


            g.scene.add(rect1);
            g.scene.add(cursor);
            g.scene.add(text);
//            g.update=function(delta){
//
//            }

//            g.draw=function(ctx){
//            }
            //g.paused=true;

        </script>
    </body>
</html>
